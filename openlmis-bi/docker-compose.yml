sd-postgres:
  container_name: sd-postgres
  image: postgres
  environment:
    POSTGRES_PASSWORD: mysecretpassword
  volumes:
    - .:/work

sd-cubes:
  container_name: sd-cubes
  image: h12w/cubes
  links:
    - sd-postgres
  volumes:
    - .:/cubes
  expose:
    - "5000"
  ports:
    - "5000:5000"
  extra_hosts:
    - "sd-postgres:${SD_POSTGRES_PORT_5432_TCP_ADDR}"

sd-cubes-viewer:
  container_name: sd-cubes-viewer
  image: h12w/cubes-viewer
  links:
    - sd-cubes
  environment:
    ADMIN_PASS: mysecretpassword
    CUBES_HOST: "http://sd-cubes:5000"
  ports:
    - "8000:8000"
  extra_hosts:
    - "sd-cubes:${SD_CUBES_PORT_5000_TCP_ADDR}"
